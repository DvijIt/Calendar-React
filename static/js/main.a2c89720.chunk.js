(this["webpackJsonpreact-calendar"]=this["webpackJsonpreact-calendar"]||[]).push([[0],{27:function(e,t,a){e.exports=a(84)},33:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(32),a(33),a(3)),i=a(4),s=a(6),u=a(5),d=a(8),p=a.n(d),m=a(1),h=a.n(m),v=a(10),f=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleNextWeek,a=e.handlePrevWeek,n=e.handleCurrentWeek;return r.a.createElement("div",{className:"header__navigation"},r.a.createElement("button",{type:"button",className:"white black-text btn btn-current-week",onClick:n},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),r.a.createElement("button",{type:"button",className:"white black-text btn-flat",onClick:a},r.a.createElement(v.Icon,{small:!0},"chevron_left")),r.a.createElement("button",{type:"button",className:"white black-text btn-flat",onClick:t},r.a.createElement(v.Icon,{small:!0},"chevron_right")))}}]),a}(n.PureComponent);f.defaultProps={handleCurrentWeek:h.a.func,handlePrevWeek:h.a.func,handleNextWeek:h.a.func};var E=f,b=function(e){var t=e.getCurrentMonth;return r.a.createElement("div",{className:"header__month-info"},r.a.createElement("span",null,t))};b.defaultProps={getCurrentMonth:h.a.string};var k=b,y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"days-name-list"},["\u041f\u041d","\u0412\u0422","\u0421\u0420","\u0427\u0422","\u041f\u0422","\u0421\u0411","\u0412\u0421"].map((function(e){return r.a.createElement("span",{className:"day-name",key:e},e)})))}}]),a}(r.a.PureComponent),D=function(e){var t=e.day,a=Array(7).fill("0").map((function(){var e,a=p()().startOf("isoWeek").add(t,"day");return e=p()().format("DD.MM.YY")===a.format("DD.MM.YY")?"day-number active":"day-number",t+=1,r.a.createElement("span",{key:t,className:e},a.format("DD"))}));return r.a.createElement("div",{className:"days-numbers-list"},a)};D.defaultProps={day:h.a.number};var g=D,N=function(e){var t=e.day;return r.a.createElement("div",{className:"header__week"},r.a.createElement("div",{className:"timezone"},(new Date).toString().split(" ")[5].slice(0,6)),r.a.createElement("div",{className:"weekdata"},r.a.createElement(y,null),r.a.createElement(g,{day:t})))};N.defaultProps={day:h.a.number};var P=N,C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.openPopup;return r.a.createElement("div",{className:"header__create-event"},r.a.createElement("button",{type:"button",className:"waves-effect waves-teal z-depth-2 white black-text create-btn",onClick:e,"data-option":"buttonCreateEvent"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))}}]),a}(n.PureComponent);C.defaultProps={openPopup:h.a.func};var O=C,j=(a(79),function(e){var t=e.day,a=e.handleNextWeek,n=e.handlePrevWeek,c=e.handleCurrentWeek,o=e.currentMonth,l=e.openPopup;return r.a.createElement("header",{className:"calendar__header header"},r.a.createElement("div",{className:"header__top-info"},r.a.createElement(O,{openPopup:l}),r.a.createElement(E,{handleNextWeek:a,handlePrevWeek:n,handleCurrentWeek:c}),r.a.createElement(k,{getCurrentMonth:o})),r.a.createElement(P,{day:t}))});j.defaultProps={day:h.a.number,handleNextWeek:h.a.func,handlePrevWeek:h.a.func,handleCurrentWeek:h.a.func,currentMonth:h.a.string,openPopup:h.a.func};var w=j,S=(a(80),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=Array(23).fill("0");return r.a.createElement("aside",{className:"calendar__timescale"},e.map((function(e,t){var a=t+1;return r.a.createElement("div",{key:a,className:"hour"},a<10?"0".concat(a,":00"):"".concat(a,":00"))})))}}]),a}(n.PureComponent)),_=(a(81),60*+p()().format("HH")+ +p()().format("mm")),M=function(){return r.a.createElement("div",{className:"redline",style:{top:"".concat(_,"px")}})},W=a(12),x="https://5ec377e28ebdcc0016a5a8e4.mockapi.io/api/v1/events",Y=function(){return fetch(x).then((function(e){if(e.ok)return e.json()})).then((function(e){return e}))},I=function(e){var t=e.id,a=e.checkDelete,n=function(){var e;(e=t,fetch("".concat(x,"/").concat(e),{method:"DELETE"})).then((function(){a()}))};return r.a.createElement("div",{id:"modal2",className:"popup popup-delete z-depth-1"},r.a.createElement("div",{role:"button",tabIndex:"0",className:"popup-content",onClick:n,onKeyPress:n},r.a.createElement(v.Icon,{small:!0},"delete"),r.a.createElement("span",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))};I.defaultProps={id:h.a.string,checkDelete:h.a.func};var A=I,H=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).showDeletePopup=function(){Object(W.a)(n)&&n.setState({show:!0})},n.closeDeletePopup=function(){Object(W.a)(n)&&n.setState({show:!1})},n.handleGetEventData=function(e){(0,n.props.getEventData)(e,n.props)},n.state={show:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.title,n=e.timeStart,c=e.timeEnd,o=e.description,l=e.color,i=e.checkDelete,s={top:"".concat(n.slice(3),"px"),backgroundColor:l||"#6495ed"},u=this.state.show;return r.a.createElement("div",{role:"button",className:"event","data-option":"event","data-id":t,style:s,onPointerEnter:this.showDeletePopup,onPointerLeave:this.closeDeletePopup,onClick:this.handleGetEventData,onKeyPress:this.handleGetEventData,tabIndex:0},r.a.createElement("h4",{className:"event-title"},a),r.a.createElement("div",{className:"event-time"},"".concat(n," - ").concat(c)),r.a.createElement("div",{className:"event-description"},o),u&&r.a.createElement(A,{id:t,checkDelete:i}))}}]),a}(r.a.Component);H.defaultProps={id:h.a.string,title:h.a.string,timeStart:h.a.string,timeEnd:h.a.string,description:h.a.string,color:h.a.string,checkDelete:h.a.func,getEventData:h.a.func};var z=H,J=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.events,n=e.checkDelete,c=e.openPopup,o=e.getEventData;return Array(24).fill("0").map((function(e,l){var i=l<10?"0".concat(l,":00"):"".concat(l,":00"),s=a.find((function(e){return e.date===t&&e.timeStart===i}));return r.a.createElement("div",{role:"button",tabIndex:"0",key:i,className:"sell","data-time":i,"data-option":"sell",onClick:c,onKeyPress:c},"undefined"!==typeof s&&r.a.createElement(z,Object.assign({},s,{checkDelete:n,openPopup:c,getEventData:o})))}))}}]),a}(r.a.Component);J.defaultProps={date:h.a.string,openPopup:h.a.func,checkDelete:h.a.func,events:h.a.array,getEventData:h.a.func};var F=J,G=function(e){var t=e.day,a=e.events,n=e.checkDelete,c=e.openPopup,o=e.getEventData,l=t;return Array(7).fill("0").map((function(){var e=p()().startOf("isoWeek").add(l,"day");return l+=1,e.format("DD MM YYYY")})).map((function(e){return r.a.createElement("div",{key:e,className:"column__day","data-date":e},r.a.createElement(F,{date:e,events:a,checkDelete:n,openPopup:c,getEventData:o}),e===p()().format("DD MM YYYY")&&r.a.createElement(M,null))}))},K=(a(82),function(e){var t=e.day,a=e.openPopup,n=e.checkDelete,c=e.events,o=e.getEventData;return r.a.createElement("main",{className:"main calendar__grid"},r.a.createElement(S,null),r.a.createElement("div",{className:"calendar__columns"},r.a.createElement(G,{day:t,events:c,checkDelete:n,openPopup:a,getEventData:o})))});K.defaultProps={day:h.a.number,openPopup:h.a.func,checkDelete:h.a.func,events:h.a.array,getEventData:h.a.func};var T=K,q=a(25),L=a(15),U=a(26),B=a.n(U),Q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t={autoClose:!0,onClose:e.handleChange,format:"dd mm yyyy",i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0440\u0432\u0430\u0440\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthsShort:["\u042f\u043d\u0432","\u0424\u0435\u0440\u0432","\u041c\u0430\u0442\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043b\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f\u0431","\u0414\u0435\u043a"],nextMonth:"\u203a",previousMonth:"\u2039",weekdays:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],weekdaysAbbrev:["\u0412","\u041f","\u041f","\u0421","\u0427","\u041f","\u0421"],weekdaysShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]}},a=document.querySelector(".datepicker");B.a.Datepicker.init(a,t)},e.handleChange=function(){var t=document.querySelector(".datepicker").M_Datepicker.el.value;(0,e.props.getDate)(t)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.date;return r.a.createElement("input",{type:"text",className:"datepicker",value:e,onChange:this.handleChange})}}]),a}(n.Component);Q.defaultProps={date:h.a.number,getDate:h.a.func};var R=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeDate=function(e){n.setState({date:e})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),void 0===n.state.id?n.createNewEvent():n.editEventData()},n.createNewEvent=function(){var e,t=n.props.closePopup;(e=n.state,fetch(x,{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error("Failed to create event")}))).then(t)},n.editEventData=function(){var e,t,a=n.state.id;(e=a,t=n.state,fetch("".concat(x,"/").concat(e),{method:"PUT",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("Failed to edit data event")}))).then(n.props.closePopup)},n.state=Object(q.a)({},n.props),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.date,n=e.timeStart,c=e.timeEnd,o=e.description,l=e.color;return r.a.createElement("div",{id:"modal1",className:"popup z-depth-4"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("form",{className:"popup-form",onSubmit:this.handleSubmit},r.a.createElement("input",{className:"popup__title",type:"text",name:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:t,onChange:this.handleChange}),r.a.createElement("div",{className:"popup__data"},r.a.createElement(v.Icon,{small:!0},"access_time"),r.a.createElement("div",{className:"input-field"},r.a.createElement(Q,{getDate:this.changeDate,date:a})),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{className:"dataStart",type:"text",name:"timeStart",value:n,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{className:"dataEnd",type:"text",name:"timeEnd",value:c,onChange:this.handleChange}))),r.a.createElement("div",{className:"subject"},r.a.createElement(v.Icon,{small:!0},"subject"),r.a.createElement("input",{className:"popup-form__description",type:"text",name:"description",placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:o,onChange:this.handleChange})),r.a.createElement("input",{type:"color",className:"popup-form__color",name:"color",value:l,onChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"color"},"\u0426\u0432\u0435\u0442")),r.a.createElement("button",{className:"btn waves-effect waves-light blue",type:"submit",name:"submit",onClick:this.handleSubmit},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"close btn-flat",onClick:this.props.closePopup},r.a.createElement(v.Icon,{small:!0},"close")))))}}]),a}(n.Component),V=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).componentDidMount=function(){Y().then((function(t){e.setState({events:t})}))},e.handlePrevWeek=function(){var t=e.state.day;e.setState({day:t-7})},e.handleNextWeek=function(){var t=e.state.day;e.setState({day:t+7})},e.handleCurrentWeek=function(){e.setState({day:0})},e.currentMonth=function(){var t=e.state.day,a=p()().startOf("isoWeek").add(t,"day"),n=p()().startOf("isoWeek").add(t+6,"day"),r=a.format("MMM"),c=a.format("YYYY"),o=n.format("MMM"),l=n.format("YYYY"),i="".concat(r," ").concat(c," - ").concat(o," ").concat(l);return r===o&&c===l?i="".concat(r," ").concat(l):c===l&&(i="".concat(r," - ").concat(o," ").concat(c)),i},e.showPopup=function(t){t.preventDefault(),"buttonCreateEvent"===t.target.dataset.option&&e.setState({show:!0,dataEvent:{title:"",timeStart:p()(new Date).format("HH:00"),timeEnd:p()(new Date).add(1,"hour").format("HH:00"),date:p()(new Date).format("DD MM YYYY"),description:"",color:""}}),"sell"===t.target.dataset.option&&e.setState({show:!0,dataEvent:{title:"",timeStart:t.target.dataset.time,timeEnd:t.target.nextElementSibling.dataset.time,date:t.target.parentNode.dataset.date,description:"",color:""}})},e.getEventData=function(t,a){if(t.target.closest('[data-option="event"]')&&!t.target.closest(".popup-delete")){var n=a.id,r=a.title,c=a.timeStart,o=a.date,l=a.timeEnd,i=a.description,s=a.color;e.setState({show:!0,dataEvent:{id:n,title:r,timeStart:c,timeEnd:l,date:o,description:i,color:s}})}},e.closePopup=function(){e.setState({show:!1})},e.handleDelete=function(){e.setState({checkDelete:!0})},e.state={day:0,show:!1,dataEvent:{title:"",timeStart:"",timeEnd:"",date:"",description:"",color:"#6495ed"},checkDelete:!1,events:[]},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.show,c=n.checkDelete;r===t.show&&c===t.checkDelete||Y().then((function(e){a.setState({events:e,checkDelete:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.day,a=e.events,n=e.show,c=e.dataEvent;return r.a.createElement("div",{className:"calendar"},r.a.createElement(w,{day:t,handleNextWeek:this.handleNextWeek,handlePrevWeek:this.handlePrevWeek,handleCurrentWeek:this.handleCurrentWeek,currentMonth:this.currentMonth(),openPopup:this.showPopup}),r.a.createElement(T,{day:t,openPopup:this.showPopup,checkDelete:this.handleDelete,events:a,getEventData:this.getEventData}),n&&r.a.createElement(R,Object.assign({closePopup:this.closePopup},c)))}}]),a}(r.a.Component);var X=function(){return r.a.createElement(V,null)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.a2c89720.chunk.js.map